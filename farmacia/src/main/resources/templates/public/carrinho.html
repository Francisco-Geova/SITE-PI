<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrinho - Farm√°cia</title>

    <style>
        /* ===========================
           ESTILO GERAL
        ============================ */
        body {
            font-family: Arial, sans-serif;
            background: #f5f5f5;
            margin: 0;
            padding: 0;
            color: #333;
        }

        header {
            background: #087f23;
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 22px;
            font-weight: bold;
        }

        .container {
            width: 95%;
            max-width: 1200px;
            margin: 30px auto;
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        h2 {
            margin-top: 0;
            text-align: center;
        }

        /* ===========================
           LISTA DE PRODUTOS
        ============================ */
        .product-list {
            display: grid;
            grid-template-columns: repeat(auto-fit,minmax(280px,1fr));
            gap: 20px;
        }

        .product {
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 12px;
            background: #fafafa;
            transition: .2s;
        }

        .product:hover {
            transform: scale(1.02);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .product img {
            width: 100%;
            border-radius: 10px;
        }

        .product button {
            width: 100%;
            padding: 12px;
            background: #087f23;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 10px;
            font-size: 16px;
        }

        .product button:hover {
            background: #06691d;
        }

        /* ===========================
           CARRINHO
        ============================ */
        #cartModal {
            position: fixed;
            top: 0; left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            display: none;
            justify-content: center;
            align-items: center;
        }

        .cart-box {
            width: 90%;
            max-width: 500px;
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #ddd;
        }

        .cart-item button {
            background: red;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 8px;
            cursor: pointer;
        }

        .close-cart {
            float: right;
            background: #333;
            color: white;
            border: none;
            padding: 8px 14px;
            border-radius: 10px;
            cursor: pointer;
        }

        .finish-btn {
            width: 100%;
            padding: 15px;
            background: #087f23;
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            margin-top: 15px;
            font-size: 18px;
        }

        .finish-btn:hover {
            background: #06691d;
        }
    </style>

</head>
<body>

<header>
    üè• Farm√°cia Online ‚Äì Carrinho de Compras
</header>

<div class="container">
    <h2>Produtos dispon√≠veis</h2>

    <div class="product-list">

        <!-- PRODUTO EXEMPLO -->
        <div class="product">
            <img src="https://via.placeholder.com/250x180?text=Paracetamol" alt="">
            <h3>Paracetamol 750mg</h3>
            <p>R$ 12,90</p>
            <button onclick="addToCart('Paracetamol 750mg', 12.90)">Adicionar ao carrinho</button>
        </div>

        <div class="product">
            <img src="https://via.placeholder.com/250x180?text=Ibuprofeno" alt="">
            <h3>Ibuprofeno 400mg</h3>
            <p>R$ 19,50</p>
            <button onclick="addToCart('Ibuprofeno 400mg', 19.50)">Adicionar ao carrinho</button>
        </div>

        <div class="product">
            <img src="https://via.placeholder.com/250x180?text=Cimegripe" alt="">
            <h3>Cimegripe</h3>
            <p>R$ 9,99</p>
            <button onclick="addToCart('Cimegripe', 9.99)">Adicionar ao carrinho</button>
        </div>

    </div>
</div>

<!-- ===========================
     MODAL DO CARRINHO
============================ -->
<div id="cartModal">
    <div class="cart-box">
        <button class="close-cart" onclick="closeCart()">X</button>
        <h2>üõí Seu carrinho</h2>

        <div id="cartItems"></div>

        <h3>Total: R$ <span id="totalPrice">0.00</span></h3>

        <button class="finish-btn">Finalizar Compra</button>
    </div>
</div>

<script>
// ==================================
//     SISTEMA DO CARRINHO
// ==================================

let cart = [];

function addToCart(name, price) {
    cart.push({ name, price });
    alert(name + " foi adicionado ao carrinho!");

    updateCart();
    openCart();
}

function updateCart() {
    const cartItems = document.getElementById("cartItems");
    const totalPrice = document.getElementById("totalPrice");

    cartItems.innerHTML = "";
    let total = 0;

    cart.forEach((item, index) => {
        total += item.price;

        cartItems.innerHTML += `
            <div class="cart-item">
                <span>${item.name} - R$ ${item.price.toFixed(2)}</span>
                <button onclick="removeItem(${index})">Remover</button>
            </div>
        `;
    });

    totalPrice.innerText = total.toFixed(2);
}

function removeItem(index) {
    cart.splice(index, 1);
    updateCart();
}

function openCart() {
    document.getElementById("cartModal").style.display = "flex";
}

function closeCart() {
    document.getElementById("cartModal").style.display = "none";
}

</script>

</body>
</html>
